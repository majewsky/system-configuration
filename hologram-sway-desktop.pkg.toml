[package]
name        = "hologram-sway-desktop"
version     = "0.2.3"
description = "hologram: Wayland desktop using Sway compositor and selected KDE apps"

requires = [
  "hologram-base-gui-minimal",
  "sway",
  "dmenu", # sway.cfg uses dmenu_run
  "sddm",
  "xorg-server-xwayland",
  # Wayland tools
  "grim",
  "ponymix",
  "slurp",
  "waybar",
  # selected KDE applications
  "filelight",
  "kcharselect",
  "kcolorchooser",
  "kolourpaint",
  "konsole",
  "kruler",
  # platform integration for non-KDE desktop
  "qt5ct",
  "qt5-wayland",
]

[[file]]
path    = "/etc/sddm.conf.d/30-sway-desktop.conf"
content = """
    [Autologin]
    User=stefan
    Session=sway.desktop

    [Theme]
    Current=breeze
"""


# set default wallpaper on first installation
[[action]]
on = "setup"
script = '''
  if [ ! -e /home/stefan/.config/sway/wallpaper.png ]; then
    ln -s /usr/share/sway/Sway_Wallpaper_Blue_1920x1080.png /home/stefan/.config/sway/wallpaper.png
  fi
'''
